(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{10:function(e,t,n){e.exports={page:"commonStyles_page__RgHLc",profilePage:"commonStyles_profilePage__32iZG",link:"commonStyles_link__nhBjk",profileLink:"commonStyles_profileLink__1yAyp",nav:"commonStyles_nav__2YJHQ",form:"commonStyles_form__35P2D",ingredient:"commonStyles_ingredient__1JPV4"}},100:function(e,t,n){e.exports={modalOverlay:"modal-overlay_modalOverlay__tfXD-"}},101:function(e,t,n){e.exports={cont:"orders_cont__RN1yK",link:"orders_link__1KjGE"}},114:function(e,t,n){},17:function(e,t,n){e.exports={cont:"order-card_cont__1T4wa",top:"order-card_top__22sco",items:"order-card_items__2yoGX",images:"order-card_images__wE5Eu",totalCost:"order-card_totalCost__3I0Qx",done:"order-card_done__3lduW",canceled:"order-card_canceled__193MT",imageBorder:"order-card_imageBorder__wxRSS",image:"order-card_image__1LH_h",count:"order-card_count__grZBq"}},18:function(e,t,n){e.exports={cont:"feed-order-details_cont__1J7KV",name:"feed-order-details_name__34eZa",ingredContClass:"feed-order-details_ingredContClass__3ll7I",footer:"feed-order-details_footer__1t3w6",totalCost:"feed-order-details_totalCost__1G4rj",done:"feed-order-details_done__1F861",scrollCont:"feed-order-details_scrollCont__3XkPg",total:"feed-order-details_total__LH4GE",ingredient:"feed-order-details_ingredient__3LvTf",info:"feed-order-details_info__2YS22",status:"feed-order-details_status__1X28e",ingredients:"feed-order-details_ingredients__2hdwC",image:"feed-order-details_image__CDGvC",sum:"feed-order-details_sum__1tpqs",number:"feed-order-details_number__2x956"}},193:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(33),s=n.n(a),i=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,202)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},o=n(43),u=(n(114),n(199)),d=n(103),l=n(11),j=o.c,p=function(){return Object(o.b)()},b=n(70),m=n.n(b),O=n(26),f=n.n(O),_=n(4),x=n(6),h=n(0),g=function(){var e=Object(l.h)().pathname.split("/")[1],t="mb-5 ".concat(f.a.header),n="".concat(f.a.nav),r="pr-5 pl-5 ".concat(f.a.navItem),c="pt-4 pr-5 pb-4 pl-5 ".concat(f.a.logo),a="text text_type_main-default pl-2",s="text text_type_main-default pl-2 text_color_inactive";return Object(h.jsx)("header",{className:t,children:Object(h.jsxs)("div",{className:f.a.content,children:[Object(h.jsxs)("nav",{className:n,children:[Object(h.jsx)(x.b,{to:"/",className:r,children:Object(h.jsxs)("h2",{className:f.a.navItem,children:[Object(h.jsx)(_.BurgerIcon,{type:""===e?"primary":"secondary"}),Object(h.jsx)("span",{className:""===e?a:s,children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]})}),Object(h.jsx)(x.b,{to:"/feed",className:r,children:Object(h.jsxs)("h2",{className:f.a.navItem,children:[Object(h.jsx)(_.ListIcon,{type:"feed"===e?"primary":"secondary"}),Object(h.jsx)("span",{className:"feed"===e?a:s,children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})})]}),Object(h.jsx)("h2",{className:c,children:Object(h.jsx)(x.b,{to:"/",children:Object(h.jsx)(_.Logo,{})})}),Object(h.jsx)(x.b,{to:"/profile/orders",className:f.a.login,children:Object(h.jsxs)("h2",{className:f.a.login,children:[Object(h.jsx)(_.ProfileIcon,{type:"profile"===e?"primary":"secondary"}),Object(h.jsx)("span",{className:"profile"===e?a:s,children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})},v=n(22),y=n(7),N=n(35),S=n.n(N),E=n(2),R=n(44),T=n.n(R),w=n.p+"static/media/img.9eef3adb.png",C=n(200),I=n(5),k=n.n(I),U=n(9),D="https://norma.nomoreparties.space/api",P=function(){var e=Object(U.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/ingredients"));case 2:return t=e.sent,e.abrupt("return",M(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(U.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("accessToken"),e.next=3,fetch("".concat(D,"/orders"),{method:"POST",headers:{"Content-Type":"application/json",authorization:n},body:JSON.stringify({ingredients:t})});case 3:return r=e.sent,e.abrupt("return",M(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(U.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/auth/register"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",M(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(U.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/auth/login"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",M(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(U.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("refreshToken"),e.next=3,fetch("".concat(D,"/auth/logout"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})});case 3:return r=e.sent,e.abrupt("return",M(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(U.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/password-reset"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",M(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(U.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/password-reset/reset"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",M(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(U.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/auth/user"),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",authorization:t}});case 2:return n=e.sent,e.abrupt("return",M(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(U.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/auth/user"),{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json",authorization:n},body:JSON.stringify(t)});case 2:return r=e.sent,e.abrupt("return",M(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(U.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("refreshToken")){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,fetch("".concat(D,"/auth/token"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})});case 5:return n=e.sent,e.abrupt("return",M(n));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function H(e){return z.apply(this,arguments)}function z(){return(z=Object(U.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return n=e.sent,e.prev=3,e.abrupt("return",JSON.parse(n));case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",{message:n});case 10:case"end":return e.stop()}}),e,null,[[3,7]])})))).apply(this,arguments)}function M(e){return X.apply(this,arguments)}function X(){return(X=Object(U.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:if(n=e.sent,t.ok){e.next=5;break}throw new Error(n.message);case 5:return n.accessToken&&localStorage.setItem("accessToken",n.accessToken),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z="GET_INGREDIENTS_REQUEST",V="GET_INGREDIENTS_SUCCESS",Y="GET_INGREDIENTS_ERROR",K="ADD_CONSTRUCTOR_INGREDIENT",$="DELETE_CONSTRUCTOR_INGREDIENT",ee="CLEAR_CONSTRUCTOR",te="CHANGE_INGREDIENTS_ORDER",ne="SET_INGREDIENT_DETAILS",re="DELETE_INGREDIENT_DETAILS",ce="GET_ORDER_REQUEST",ae="GET_ORDER_SUCCESS",se="GET_ORDER_ERROR",ie="CLEAR_ORDER";function oe(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var ue=function(e){var t=e.card,n=p(),c=Object(l.g)(),a=Object(l.h)(),s=Object(r.useState)(!1),i=Object(y.a)(s,2),o=i[0],u=i[1],d=Object(C.a)({type:"card",item:{card:Object(E.a)(Object(E.a)({},t),{},{guid:oe()})},collect:function(e){return{opacity:e.isDragging()?.5:1}}}),b=Object(y.a)(d,2),m=b[0].opacity,O=b[1],f=j((function(e){return e.reducer.constructorIngredients})),x=function(){var e,n=0,r=Object(v.a)(f.buns);try{for(r.s();!(e=r.n()).done;){e.value._id===t._id&&(n+=2)}}catch(s){r.e(s)}finally{r.f()}var c,a=Object(v.a)(f.toppings);try{for(a.s();!(c=a.n()).done;){c.value._id===t._id&&(n+=1)}}catch(s){a.e(s)}finally{a.f()}return n},g="mt-5 mr-5 mb-8 ".concat(T.a.card),N="mt-1 mr-5 ".concat(T.a.cost),S="mt-5 mr-5 text text_type_main-default ".concat(T.a.description);return Object(h.jsxs)("div",{className:g,ref:O,style:{opacity:m},onClick:function(){u(!o),n({type:ne,card:t}),c.push("/ingredients/".concat(t._id),{background:a})},children:[x()>0&&Object(h.jsx)(_.Counter,{count:x(),size:"default"}),Object(h.jsx)("div",{className:w,children:Object(h.jsx)("img",{className:T.a.image,alt:"\u0424\u043e\u0442\u043e \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",src:t.image})}),Object(h.jsxs)("div",{className:N,children:[Object(h.jsx)("p",{className:"pr-1 text text_type_digits-default",children:t.price}),Object(h.jsx)(_.CurrencyIcon,{type:"primary"})]}),Object(h.jsx)("p",{className:S,children:t.name})]})},de=function(){var e=j((function(e){return e.reducer.ingredients})),t=c.a.useState("\u0411\u0443\u043b\u043a\u0438"),n=Object(y.a)(t,2),a=n[0],s=n[1],i="mt-5 mr-5 ".concat(S.a.ingredients),o="mb-6 ".concat(S.a.title),u="ml-4 mb-8 ".concat(S.a.cards),d="custom-scroll mt-10 mb-10 ".concat(S.a.scrollCont),l=[],p=[],b=[];var m=Object(r.useRef)(null),O=Object(r.useRef)(null),f=Object(r.useRef)(null);return e&&function(e){var t,n=Object(v.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;"bun"===r.type&&l.push(r),"sauce"===r.type&&p.push(r),"main"===r.type&&b.push(r)}}catch(c){n.e(c)}finally{n.f()}}(e),Object(h.jsxs)("div",{className:i,children:[Object(h.jsxs)("nav",{className:S.a.tabs,children:[Object(h.jsx)(_.Tab,{value:"\u0411\u0443\u043b\u043a\u0438",active:"\u0411\u0443\u043b\u043a\u0438"===a,onClick:s,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(h.jsx)(_.Tab,{value:"\u0421\u043e\u0443\u0441\u044b",active:"\u0421\u043e\u0443\u0441\u044b"===a,onClick:s,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(h.jsx)(_.Tab,{value:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",active:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"===a,onClick:s,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(h.jsxs)("div",{className:d,onScroll:function(e){var t=e.currentTarget.scrollTop,n=m.current.offsetTop/2,r=O.current.offsetTop/2,c=f.current.offsetTop/2;t>=n&&s("\u0411\u0443\u043b\u043a\u0438"),t>=r&&s("\u0421\u043e\u0443\u0441\u044b"),t>=c&&s("\u041d\u0430\u0447\u0438\u043d\u043a\u0438")},children:[Object(h.jsxs)("section",{ref:m,children:[Object(h.jsx)("h2",{className:o,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(h.jsx)("div",{className:u,children:l.map((function(e){return Object(h.jsx)(ue,{card:e},e._id)}))})]}),Object(h.jsxs)("section",{ref:O,children:[Object(h.jsx)("h2",{className:o,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(h.jsx)("div",{className:u,children:p.map((function(e){return Object(h.jsx)(ue,{card:e},e._id)}))})]}),Object(h.jsxs)("section",{ref:f,children:[Object(h.jsx)("h2",{className:o,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(h.jsx)("div",{className:u,children:b.map((function(e){return Object(h.jsx)(ue,{card:e},e._id)}))})]})]})]})},le=n(23),je=n.n(le),pe=n(99),be=n.n(pe),me=n(201),Oe=function(e){var t=e.card,n=e.moveCard,c=e.type,a=e.index,s=p(),i=Object(r.useRef)(null),o=j((function(e){return e.reducer.constructorIngredients})),u="mr-1 ".concat(be.a.listItem),d=Object(C.a)({type:"card",item:t,collect:function(e){return{isDragging:e.isDragging()}}}),l=Object(y.a)(d,2)[1],b=Object(me.a)({accept:"card",hover:function(e){var t=o.toppings.findIndex((function(t){return t._id===e._id}));-1!==t&&n&&n(t,a)},collect:function(e){return{opacity:e.isOver()?.2:1}}}),m=Object(y.a)(b,2),O=m[0].opacity;return l((0,m[1])(i)),"top"===c?Object(h.jsx)(_.ConstructorElement,{type:"top",isLocked:!0,text:t.name+" (\u0432\u0435\u0440\u0445)",price:t.price,thumbnail:t.image}):"bottom"===c?Object(h.jsx)(_.ConstructorElement,{type:"bottom",isLocked:!0,text:t.name+" (\u043d\u0438\u0437)",price:t.price,thumbnail:t.image}):Object(h.jsxs)("div",{ref:i,style:{opacity:O},className:u,children:[Object(h.jsx)(_.DragIcon,{type:"primary"}),Object(h.jsx)(_.ConstructorElement,{handleClose:function(){var e;e=t.guid,s({type:$,guid:e})},text:t.name,price:t.price,thumbnail:t.image})]})},fe=n(30),_e=n.n(fe),xe=n.p+"static/media/done.cc5a59a7.gif",he=function(){var e=j((function(e){return e.reducer.order})),t="text text_type_digits-large pb-6 ".concat(_e.a.id),n="text text_type_main-medium pb-15 ".concat(_e.a.idText," ").concat(_e.a.light),r="pb-15 ".concat(_e.a.image),c="pb-2  text text_type_main-default ".concat(_e.a.light),a="text text_type_main-default ".concat(_e.a.navy);return Object(h.jsxs)(h.Fragment,{children:[e.order&&Object(h.jsx)("p",{className:t,children:e.order.number}),Object(h.jsx)("p",{className:n,children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(h.jsx)("img",{className:r,alt:"\u0417\u0430\u043a\u0430\u0437 \u043f\u0440\u0438\u043d\u044f\u0442",src:xe}),e.name&&Object(h.jsxs)("p",{className:c,children:['\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 "',e.name,'" \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c']}),Object(h.jsx)("p",{className:a,children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},ge=n(51),ve=n.n(ge),ye=n(100),Ne=n.n(ye),Se=function(e){var t=e.children,n=e.close;return Object(h.jsx)("div",{className:Ne.a.modalOverlay,onClick:function(e){e.stopPropagation(),e.target===e.currentTarget&&n()},children:t})},Ee=function(e){var t=e.children,n=e.close,c=e.title,s=document.getElementById("react-modals"),i="mt-15 mr-10 ".concat(ve.a.closeIcon),o="pt-30 pb-30 pl-25 pr-25 ".concat(ve.a.orderDetails),u=" ml-10 mt-15 text text_type_main-large ".concat(ve.a.title),d=function(e){"Escape"===e.key&&n()};return Object(r.useEffect)((function(){return document.addEventListener("keydown",d),function(){return document.removeEventListener("keydown",d)}}),[]),Object(a.createPortal)(Object(h.jsx)(Se,{close:n,children:Object(h.jsxs)("div",{className:o,children:[c&&Object(h.jsx)("h3",{className:u,children:c}),Object(h.jsx)("div",{className:i,onClick:n,children:Object(h.jsx)(_.CloseIcon,{type:"primary"})}),t]})}),s)},Re=function(){var e=p(),t=j((function(e){return e.userReducer.user})),n=j((function(e){return e.reducer.constructorIngredients})),a=c.a.useState(0),s=Object(y.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(!1),d=Object(y.a)(u,2),l=d[0],b=d[1],m="mt-5 ml-5 ".concat(je.a.constructor),O="mt-10 ".concat(je.a.list),f="".concat(je.a.top),g="custom-scroll  ".concat(je.a.center),N="".concat(je.a.bottom),S="mt-10 ".concat(je.a.total),R="mr-2 text text_type_digits-medium ".concat(je.a.totalCount),T="mr-10 ".concat(je.a.totalCont),w="text text_type_main-default pl-2 ".concat(je.a.link);function C(t){b(!l),t.preventDefault();var r,c=[],a=Object(v.a)(n.buns);try{for(a.s();!(r=a.n()).done;){var s=r.value;c.push(s._id)}}catch(d){a.e(d)}finally{a.f()}var i,o=Object(v.a)(n.toppings);try{for(o.s();!(i=o.n()).done;){var u=i.value;c.push(u._id)}}catch(d){o.e(d)}finally{o.f()}e(function(e){return function(){var t=Object(U.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:ce}),q(e).then((function(e){n(e?{type:ae,order:e}:{type:se})})).catch((function(e){console.log(e),n({type:se})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c))}Object(r.useEffect)((function(){var e=function(e){var t,n=0,r=Object(v.a)(e.buns);try{for(r.s();!(t=r.n()).done;)n+=2*t.value.price}catch(s){r.e(s)}finally{r.f()}var c,a=Object(v.a)(e.toppings);try{for(a.s();!(c=a.n()).done;)n+=c.value.price}catch(s){a.e(s)}finally{a.f()}return n}(n);o(e)}),[n]);var I=Object(me.a)({accept:"card",drop:function(t){e(Object(E.a)({type:K},t))}}),D=Object(y.a)(I,2)[1],P=Object(r.useCallback)((function(t,r){e({type:te,item:n.toppings,dragIndex:t,hoverIndex:r})}),[n.toppings,e]);return Object(h.jsxs)("div",{className:m,ref:D,children:[0===i&&Object(h.jsx)("div",{className:je.a.info,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u043b\u043a\u0438, \u043d\u0430\u0447\u0438\u043d\u043a\u0438 \u0438 \u0441\u043e\u0443\u0441\u044b \u0432 \u043b\u0435\u0432\u043e\u0439 \u0447\u0430\u0441\u0442\u0438, \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430"}),0!==i&&Object(h.jsxs)("section",{className:O,children:[Object(h.jsx)("div",{className:f,children:n.buns[0]&&n.buns.map((function(e,t){return Object(h.jsx)(Oe,{index:t,card:e,type:"top"},e.guid)}))}),Object(h.jsx)("div",{className:g,children:n.toppings&&n.toppings.map((function(e,t){return Object(h.jsx)(Oe,{card:e,type:"topping",index:t,moveCard:P},e.guid)}))}),Object(h.jsx)("div",{className:N,children:n.buns[0]&&n.buns.map((function(e,t){return Object(h.jsx)(Oe,{card:e,index:t,type:"bottom"},e.guid+"b")}))})]}),0!==i&&Object(h.jsxs)("div",{className:S,children:[Object(h.jsxs)("div",{className:T,children:[Object(h.jsx)("p",{className:R,children:i}),Object(h.jsx)(_.CurrencyIcon,{type:"primary"})]}),""!==t.email?Object(h.jsx)(_.Button,{type:"primary",size:"large",onClick:function(e){return C(e)},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}):Object(h.jsx)(x.b,{to:"/login",className:w,children:Object(h.jsx)(_.Button,{type:"primary",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c"})}),l&&Object(h.jsx)(Ee,{close:function(){b(!1),e({type:ee}),e({type:ie})},children:Object(h.jsx)(he,{})})]})]})},Te=n(52),we=n.n(Te),Ce=function(){return Object(h.jsx)("div",{className:we.a.wrapper,children:Object(h.jsx)("div",{className:we.a.container,children:Object(h.jsxs)("div",{className:we.a.content,children:[Object(h.jsx)("h1",{className:"mt-10 pt-10 text text_type_main-large",children:"Oops! 404 Error"}),Object(h.jsx)("p",{children:"\u0422\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}),Object(h.jsx)("br",{}),Object(h.jsx)(x.b,{to:"/",className:"mt-10 text text_type_main-medium",children:"\u0412\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})})})},Ie=n(20),ke=n(10),Ue=n.n(ke),De="REGISTER_USER_REQUEST",Pe="REGISTER_USER_REQUEST_SUCCESS",qe="REGISTER_USER_REQUEST_FAILED",Ae="LOGIN_REQUEST",Le="LOGIN_REQUEST_SUCCESS",Ge="LOGIN_REQUEST_FAILED",Fe="SET_IS_AUTH",Qe="RESET_IS_AUTH",Be="SET_USER",We="RESET_USER",Je="FORGOT_PASSWORD_REQUEST",He="FORGOT_PASSWORD_REQUEST_SUCCESS",ze="FORGOT_PASSWORD_REQUEST_FAILED",Me="RESET_PASSWORD_REQUEST",Xe="RESET_PASSWORD_REQUEST_SUCCESS",Ze="RESET_PASSWORD_REQUEST_FAILED",Ve="GET_USER_REQUEST",Ye="GET_USER_REQUEST_SUCCESS",Ke="GET_USER_REQUEST_FAILED",$e="LOGOUT_REQUEST",et="LOGOUT_REQUEST_SUCCESS",tt="LOGOUT_REQUEST_FAILED",nt=function(){return function(){var e=Object(U.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ve}),e.next=4,J();case 4:return n=e.sent,e.next=7,B(n.accessToken);case 7:r=e.sent,t({type:Ye}),t({type:Be,user:r}),t({type:Fe,refreshToken:n.refreshToken}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),t({type:Ke}),t({type:Qe});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},rt=function(){var e,t,n=p(),c=Object(l.g)(),a=j((function(e){return e.userReducer.user})),s=Object(r.useState)({email:"",password:"",name:""}),i=Object(y.a)(s,2),o=i[0],u=i[1],d=j((function(e){return e.userReducer.loginUserSuccess}));var b=null===(e=c.location)||void 0===e||null===(t=e.state)||void 0===t?void 0:t.from;Object(r.useEffect)((function(){d&&c.replace(b)}),[d]);var m=function(e){u(Object(E.a)(Object(E.a)({},o),{},Object(Ie.a)({},e.target.name,e.target.value)))},O="mt-10 text text_type_main-default pl-2 ".concat(Ue.a.link);return""!==a.email&&b?Object(h.jsx)(l.a,{to:b}):""!==a.email?Object(h.jsx)(l.a,{to:{pathname:"/"}}):Object(h.jsxs)("div",{className:Ue.a.page,children:[Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(function(e){return function(){var t=Object(U.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:Ae}),L(e).then((function(e){e?(n({type:Le}),n({type:Fe,refreshToken:e.refreshToken}),n({type:Be,user:e.user})):n({type:Ge})})).catch((function(e){console.log(e),n({type:Ge})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(o))},children:[Object(h.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0412\u0445\u043e\u0434"}),Object(h.jsx)(_.Input,{placeholder:"Email",value:o.email,name:"email",onChange:m}),Object(h.jsx)("div",{className:"mb-6"}),Object(h.jsx)(_.PasswordInput,{value:o.password,name:"password",onChange:m}),Object(h.jsx)("div",{className:"mb-6"}),Object(h.jsx)(_.Button,{type:"primary",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(h.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-10 pt-10  mb-4",children:["\u0412\u044b - \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(h.jsx)(x.b,{to:"/register",className:O,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(h.jsxs)("p",{className:"text text_type_main-default text_color_inactive  mb-4",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(h.jsx)(x.b,{to:"/forgot-password",className:O,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})},ct=function(){var e=p(),t=j((function(e){return e.userReducer.user})),n=Object(r.useState)({name:"",email:"",password:""}),c=Object(y.a)(n,2),a=c[0],s=c[1],i=j((function(e){return e.userReducer.registerUserSuccess}));var o=function(e){s(Object(E.a)(Object(E.a)({},a),{},Object(Ie.a)({},e.target.name,e.target.value)))},u="mt-10 text text_type_main-default pl-2 ".concat(Ue.a.link);return""!==t.email||i?Object(h.jsx)(l.a,{to:{pathname:"/"}}):Object(h.jsxs)("div",{className:Ue.a.page,children:[Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(U.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:De}),A(e).then((function(e){n(e?{type:Pe}:{type:qe})})).catch((function(e){console.log(e),n({type:qe})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))},children:[Object(h.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(h.jsx)(_.Input,{placeholder:"\u0418\u043c\u044f",value:a.name,name:"name",onChange:o}),Object(h.jsx)("div",{className:"mb-6"}),Object(h.jsx)(_.Input,{placeholder:"Email",value:a.email,name:"email",onChange:o}),Object(h.jsx)("div",{className:"mb-6"}),Object(h.jsx)(_.PasswordInput,{value:a.password,name:"password",onChange:o}),Object(h.jsx)("div",{className:"mb-6"}),Object(h.jsx)(_.Button,{type:"primary",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(h.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-10 pt-10  mb-4",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(h.jsx)(x.b,{to:"/login",className:u,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},at=n(28),st=n.n(at),it=function(){var e=Object(l.i)().id,t=Object(r.useState)(),n=Object(y.a)(t,2),c=n[0],a=n[1],s=j((function(e){return e.reducer.ingredients})),i=j((function(e){return e.reducer.ingredientDetails}));Object(r.useEffect)((function(){var t=e?null===s||void 0===s?void 0:s.find((function(t){return t._id===e})):i;a(null===t?{}:t)}),[s]);var o="pt-4 pb-8 ".concat(st.a.image),u="text text_type_main-medium pb-8 ".concat(st.a.idText," ").concat(st.a.light),d="".concat(st.a.details),p="text text_type_main-default ".concat(st.a.navy),b="pr-8 text text_type_main-default ".concat(st.a.navy),m="pt-1  text text_type_digits-default ".concat(st.a.navy);return void 0===c?null:Object(h.jsxs)("div",{className:st.a.detailsCard,children:[Object(h.jsx)("img",{className:o,alt:"\u0417\u0430\u043a\u0430\u0437 \u043f\u0440\u0438\u043d\u044f\u0442",src:c.image}),Object(h.jsx)("p",{className:u,children:c.name}),Object(h.jsxs)("div",{className:d,children:[Object(h.jsxs)("div",{className:p,children:[Object(h.jsx)("p",{className:b,children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"}),Object(h.jsx)("p",{className:m,children:c.calories})]}),Object(h.jsxs)("div",{className:p,children:[Object(h.jsx)("p",{className:b,children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(h.jsx)("p",{className:m,children:c.proteins})]}),Object(h.jsxs)("div",{className:p,children:[Object(h.jsx)("p",{className:b,children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(h.jsx)("p",{className:m,children:c.fat})]}),Object(h.jsxs)("div",{className:p,children:[Object(h.jsx)("p",{className:b,children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(h.jsx)("p",{className:m,children:c.carbohydrates})]})]})]})},ot=function(){return Object(h.jsxs)("div",{className:Ue.a.ingredient,children:[Object(h.jsx)("span",{className:"text text_type_main-large mt-10 mr-10 ml-10",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(h.jsx)(it,{})]})},ut=function(){var e=p(),t=j((function(e){return e.userReducer.user})),n=j((function(e){return e.userReducer.forgotPasswordSuccess})),c=Object(r.useState)({email:"",name:""}),a=Object(y.a)(c,2),s=a[0],i=a[1];var o="mt-10 text text_type_main-default pl-2 ".concat(Ue.a.link);return""!==t.email?Object(h.jsx)(l.a,{to:{pathname:"/"}}):n?Object(h.jsx)(l.a,{to:{pathname:"/reset-password"}}):Object(h.jsxs)("div",{className:Ue.a.page,children:[Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(U.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:Je}),F(e).then((function(e){n(e?{type:He}:{type:ze})})).catch((function(e){n({type:ze})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(s))},children:[Object(h.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(h.jsx)(_.Input,{placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",value:s.email,name:"email",onChange:function(e){i(Object(E.a)(Object(E.a)({},s),{},Object(Ie.a)({},e.target.name,e.target.value)))}}),Object(h.jsx)("div",{className:"mb-6"}),Object(h.jsx)(_.Button,{type:"primary",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(h.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-10 pt-10  mb-4",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(h.jsx)(x.b,{to:"/login",className:o,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},dt=function(){var e=p(),t=j((function(e){return e.userReducer.user})),n=Object(r.useState)({password:"",token:"",name:"",email:""}),c=Object(y.a)(n,2),a=c[0],s=c[1],i=j((function(e){return e.userReducer.forgotPasswordSuccess})),o=j((function(e){return e.userReducer.resetPasswordSuccess})),u=function(e){s(Object(E.a)(Object(E.a)({},a),{},Object(Ie.a)({},e.target.name,e.target.value)))};var d="mt-10 text text_type_main-default pl-2 ".concat(Ue.a.link);return""!==t.email||o?Object(h.jsx)(l.a,{to:{pathname:"/"}}):i?Object(h.jsxs)("div",{className:Ue.a.page,children:[Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(U.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:Me}),Q(e).then((function(e){n(e?{type:Xe}:{type:Ze})})).catch((function(e){n({type:Ze})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))},children:[Object(h.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(h.jsx)(_.PasswordInput,{value:a.password,name:"password",onChange:u}),Object(h.jsx)("div",{className:"mb-6"}),Object(h.jsx)(_.Input,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",value:a.token,name:"token",onChange:u}),Object(h.jsx)("div",{className:"mb-6"}),Object(h.jsx)(_.Button,{type:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(h.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-10 pt-10  mb-4",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(h.jsx)(x.b,{to:"/login",className:d,children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(h.jsx)(l.a,{to:{pathname:"/login"}})},lt=n(13),jt=n(101),pt=n.n(jt),bt="WS_START",mt="WS_PRIVAT_START",Ot="WS_GET_MESSAGE",ft="WS_CONNECTION_CLOSE",_t=n(17),xt=n.n(_t),ht=n(69),gt=n.n(ht),vt=(n(191),function(e){var t,n=e?e.createdAt:0;return(t=gt()(new Date(n))).locale("ru"),"".concat(t.calendar()," i-GMT+3")}),yt=function(e){var t,n=e.order,c=Object(l.g)(),a=Object(l.h)(),s=Object(r.useState)(!1),i=Object(y.a)(s,2),o=i[0],u=i[1],d=j((function(e){return e.reducer.ingredients})),p=null===n||void 0===n||null===(t=n.ingredients)||void 0===t?void 0:t.reduce((function(e,t){var n=null===d||void 0===d?void 0:d.find((function(e){return t===e._id}));return n?"bun"===n.type?e+2*n.price:e+n.price:0}),0),b="done"===n.status?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"pending"===n.status?"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f":"\u0421\u043e\u0437\u0434\u0430\u043d",m=vt(n),O="".concat(xt.a.cont," p-6 mr-2 mb-4"),f="".concat(xt.a.number," text text_type_main-small"),x="".concat(xt.a.date," text text_type_main-small text_color_inactive"),g="".concat(xt.a.name," text text_type_main-default mt-6"),v="".concat(xt.a.totalCost," text text_type_digits-default"),N="".concat(xt.a.items," mt-6"),S=n.status,E="text text_type_main-small ".concat(xt.a[S]),R="text text_type_digits-default ".concat(xt.a.count);return Object(h.jsxs)("div",{className:O,onClick:function(){u(!o),c.push("".concat(a.pathname,"/").concat(n.number),{background:a})},children:[Object(h.jsxs)("div",{className:xt.a.top,children:[Object(h.jsxs)("span",{className:f,children:["#",n.number]}),Object(h.jsx)("span",{className:x,children:m})]}),Object(h.jsx)("div",{className:g,children:n.name}),Object(h.jsx)("div",{className:E,children:b}),Object(h.jsxs)("div",{className:N,children:[Object(h.jsx)("div",{className:xt.a.images,children:function(e){var t=new Set(e);return Object(lt.a)(t)}(null===n||void 0===n?void 0:n.ingredients).filter((function(e,t){return t<6})).map((function(e,t){var r,c=null===d||void 0===d?void 0:d.find((function(t){return t._id===e})),a=(null===n||void 0===n?void 0:n.ingredients)?(null===n||void 0===n||null===(r=n.ingredients)||void 0===r?void 0:r.length)-6:0;return Object(h.jsxs)("div",{className:xt.a.imageBorder,children:[Object(h.jsx)("img",{className:xt.a.image,src:null===c||void 0===c?void 0:c.image,alt:"ingredient_picture"},t),5===t&&Object(h.jsxs)("span",{className:R,children:["+",a]})]},t)}))}),Object(h.jsxs)("div",{className:v,children:[Object(h.jsx)("span",{className:"mr-1",children:p}),Object(h.jsx)(_.CurrencyIcon,{type:"primary"})]})]})]})},Nt=function(){var e=j((function(e){return e.wsReduser.orders}))||[],t=p(),n="custom-scroll  ".concat(pt.a.cont);return Object(r.useEffect)((function(){return t({type:mt,payload:""}),function(){t({type:ft,payload:""})}}),[]),"undefined"!==typeof e&&e.length?Object(h.jsx)("div",{className:n,children:Object(lt.a)(e).reverse().map((function(e,t){return Object(h.jsx)(yt,{order:e},t)}))}):(t({type:mt,payload:""}),null)},St=function(){var e=j((function(e){return e.userReducer.user})),t=Object(l.h)(),n=Object(r.useState)(!1),c=Object(y.a)(n,2),a=c[0],s=c[1],i=p(),o=Object(r.useState)(Object(E.a)(Object(E.a)({},e),{},{password:"12345678"})),u=Object(y.a)(o,2),d=u[0],b=u[1],m=Object(r.useState)([]),O=Object(y.a)(m,2),f=O[0],g=O[1];Object(r.useEffect)((function(){i(nt())}),[]);var v=""!==e.email&&"/profile/orders"===t.pathname;function N(e){s(!0),f.includes(e.target.name)||g([].concat(Object(lt.a)(f),[e.target.name])),b(Object(E.a)(Object(E.a)({},d),{},Object(Ie.a)({},e.target.name,e.target.value)))}Object(r.useEffect)((function(){b(Object(E.a)(Object(E.a)({},e),{},{password:"12345678"}))}),[e]);var S="".concat(Ue.a.profileLink," text text_type_main-medium text_color_inactive pl-2"),R="".concat(Ue.a.profileLink," mt-10 text text_type_main-medium text_color_primary pl-2");return""===e.email?Object(h.jsx)(l.a,{to:{pathname:"/login"}}):Object(h.jsxs)("div",{className:Ue.a.profilePage,children:[Object(h.jsxs)("nav",{className:Ue.a.nav,children:[Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(x.b,{to:"/profile",className:v?S:R,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(h.jsx)("li",{children:Object(h.jsx)(x.b,{to:"/profile/orders",className:v?R:S,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(h.jsx)("li",{children:Object(h.jsx)(x.b,{to:"/login",onClick:function(){return i(function(e){return function(){var t=Object(U.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:$e}),n({type:We}),n({type:Qe}),G(e).then((function(e){n(e?{type:et}:{type:tt})})).catch((function(e){console.log(e),n({type:tt})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},className:S,children:"\u0412\u044b\u0445\u043e\u0434"})})]}),Object(h.jsx)("p",{className:"text text_type_main-default text_color_inactive mt-10 pt-10",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),v?Object(h.jsx)(Nt,{}):Object(h.jsxs)("form",{className:"form",onFocus:function(e){e.preventDefault(),"password"===e.target.name&&b(Object(E.a)(Object(E.a)({},d),{},{password:""}))},onSubmit:function(e){e.preventDefault();var t={};f.forEach((function(e){return t[e]=d[e]})),g([]),s(!1),i(function(e){return function(){var t=Object(U.a)(k.a.mark((function t(n){var r,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:Ve}),t.next=4,J();case 4:return r=t.sent,t.next=7,W(e,r.accessToken);case 7:c=t.sent,n({type:Ye}),n({type:Be,user:c}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:Ke}),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(h.jsx)(_.Input,{placeholder:"\u0418\u043c\u044f",value:d.name,name:"name",onChange:N,icon:"EditIcon"}),Object(h.jsx)("div",{className:"mb-6"}),Object(h.jsx)(_.Input,{placeholder:"Email",value:d.email,name:"email",onChange:N,icon:"EditIcon"}),Object(h.jsx)("div",{className:"mb-6"}),Object(h.jsx)(_.Input,{placeholder:"Password",value:d.password,name:"password",onChange:N,icon:"EditIcon",type:"password"}),a&&Object(h.jsxs)("div",{className:"mt-10",children:[Object(h.jsx)(_.Button,{type:"secondary",onClick:function(t){t.preventDefault(),b(Object(E.a)(Object(E.a)({},e),{},{password:"12345678"})),s(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(h.jsx)(_.Button,{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]})},Et=n(104),Rt=function(e){var t=e.children,n=Object(Et.a)(e,["children"]),r=j((function(e){return e.userReducer.user}));return Object(h.jsx)(l.b,Object(E.a)(Object(E.a)({},n),{},{render:function(e){var n=e.location;return""!==r.email?t:Object(h.jsx)(l.a,{to:{pathname:"/login",state:{from:n}}})}}))},Tt=n(18),wt=n.n(Tt),Ct=function(){Object(l.g)(),Object(l.h)();var e,t=Object(r.useState)(!1),n=Object(y.a)(t,2),c=(n[0],n[1],j((function(e){return e.wsReduser.orders}))||[]),a=j((function(e){return e.reducer.ingredients})),s=Object(l.i)().id,i=Number(s),o=c.find((function(e){return e.number===i})),u=vt(o),d=null===o||void 0===o||null===(e=o.ingredients)||void 0===e?void 0:e.reduce((function(e,t){var n=null===a||void 0===a?void 0:a.find((function(e){return t===e._id}));return n?"bun"===n.type?e+2*n.price:e+n.price:0}),0),p=null===o||void 0===o?void 0:o.ingredients,b=function(){var e=[];if(!p)return[];var t,n=Object(v.a)(p);try{var r=function(){var n=t.value;e.push(null===a||void 0===a?void 0:a.find((function(e){return e._id===n})))};for(n.s();!(t=n.n()).done;)r()}catch(c){n.e(c)}finally{n.f()}return e}();var m=b.filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return[e,b.filter((function(t){return t===e})).length]})),O="done"===(null===o||void 0===o?void 0:o.status)?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"pending"===(null===o||void 0===o?void 0:o.status)?"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f":"\u0421\u043e\u0437\u0434\u0430\u043d",f=null===o||void 0===o?void 0:o.status,x="".concat(wt.a.cont," mt-15 mb-15 pl-10 mr-10"),g="".concat(wt.a.number,"  mb-10 text text_type_digits-default"),N="".concat(wt.a.total," text text_type_digits-default"),S="".concat(wt.a.ingredCont," mt-15"),E="text text_type_main-small ".concat(wt.a[f]),R="custom-scroll mt-10 mb-10  ".concat(wt.a.scrollCont),T="mb-3 text text_type_main-medium ".concat(wt.a.name),w="".concat(wt.a.footer," mt-10"),C="".concat(wt.a.sum," text text_type_digits-default pr-1");return Object(h.jsxs)("div",{className:x,children:[Object(h.jsxs)("h3",{className:g,children:["#",i]}),Object(h.jsx)("div",{className:T,children:null===o||void 0===o?void 0:o.name}),Object(h.jsx)("div",{className:E,children:O}),Object(h.jsxs)("div",{className:S,children:[Object(h.jsx)("div",{className:"mb-6 text text_type_main-medium",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(h.jsx)("div",{className:R,children:Object(h.jsx)("div",{className:"mb-10 pr-6 ".concat(wt.a.ingredients),children:m.map((function(e,t){var n,r,c,a,s;return Object(h.jsxs)("div",{className:wt.a.ingredient,children:[Object(h.jsx)("div",{className:wt.a.image,style:{backgroundImage:"url("+(null===(n=e[0])||void 0===n?void 0:n.image_mobile)+")",backgroundPosition:"center"}}),Object(h.jsx)("p",{className:"text text_type_main-default pr-5",children:null===(r=e[0])||void 0===r?void 0:r.name}),Object(h.jsx)("p",{className:C,children:"bun"===(null===(c=e[0])||void 0===c?void 0:c.type)?"2 x ".concat(null===(a=e[0])||void 0===a?void 0:a.price):"".concat(e[1]," x ").concat(null===(s=e[0])||void 0===s?void 0:s.price)}),Object(h.jsx)(_.CurrencyIcon,{type:"primary"})]},t)}))})})]}),Object(h.jsxs)("div",{className:w,children:[Object(h.jsx)("div",{className:"text text_type_main-default text_color_inactive",children:u}),Object(h.jsxs)("div",{className:N,children:[Object(h.jsx)("span",{className:"mr-2",children:d}),Object(h.jsx)(_.CurrencyIcon,{type:"primary"})]})]})]})},It=n(24),kt=n.n(It),Ut=function(){var e=j((function(e){return e.wsReduser.orders}))||[],t=j((function(e){return e.wsReduser.total}))||0,n=j((function(e){return e.wsReduser.totalToday}))||0,c=p(),a="custom-scroll  ".concat(kt.a.cont),s="custom-scroll ml-10 pl-10 ".concat(kt.a.right),i="".concat(kt.a.ordersCont," mb-15"),o="".concat(kt.a.ordersList," mr-6"),u="".concat(kt.a.ordersWidth," mr-6"),d="".concat(kt.a.order," text text_type_digits-default mr-9"),l="".concat(kt.a.total," text text_type_digits-large");return Object(r.useEffect)((function(){return c({type:bt,payload:""}),function(){c({type:ft,payload:""})}}),[]),Object(h.jsxs)("div",{className:kt.a.feed,children:[Object(h.jsx)("h1",{className:"text text_type_main-large pt-8 mb-4",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(h.jsxs)("div",{className:kt.a.feedCont,children:[Object(h.jsx)("section",{className:kt.a.left,children:Object(h.jsx)("div",{className:a,children:Object(lt.a)(e).reverse().map((function(e,t){return Object(h.jsx)(yt,{order:e},t)}))})}),Object(h.jsxs)("section",{className:s,children:[Object(h.jsxs)("div",{className:i,children:[Object(h.jsxs)("div",{className:u,children:[Object(h.jsx)("div",{className:"text text_type_main-medium mb-6",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(h.jsx)("ul",{className:o,children:e.filter((function(e){return"done"===e.status})).map((function(e,t){return Object(h.jsx)("li",{className:d,children:e.number},t)}))})]}),Object(h.jsxs)("div",{className:u,children:[Object(h.jsx)("div",{className:"text text_type_main-medium  mb-6",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(h.jsx)("ul",{className:o,children:e.filter((function(e){return"pending"===e.status})).map((function(e,t){return Object(h.jsx)("li",{className:"text text_type_digits-default",children:e.number},t)}))})]})]}),Object(h.jsxs)("div",{className:"text text_type_main-medium mb-15",children:["\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f:",Object(h.jsx)("div",{className:l,children:t})]}),Object(h.jsxs)("div",{className:"text text_type_main-medium mb-10",children:["\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:",Object(h.jsx)("div",{className:l,children:n})]})]})]})]})},Dt=function(){var e=p();return Object(r.useEffect)((function(){return e({type:bt,payload:""}),function(){e({type:ft,payload:""})}}),[]),Object(h.jsx)("div",{className:Ue.a.ingredient,children:Object(h.jsx)(Ct,{})})},Pt=function(){var e=p();return Object(r.useEffect)((function(){return e({type:mt,payload:""}),function(){e({type:ft,payload:""})}}),[]),Object(h.jsx)("div",{className:Ue.a.ingredient,children:Object(h.jsx)(Ct,{})})},qt=function(){var e=p(),t=Object(l.h)(),n=Object(l.g)(),c=t.state,a=c&&c.background,s=localStorage.getItem("refreshToken");Object(r.useEffect)((function(){e(function(){var e=Object(U.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Z}),P().then((function(e){t(e?{type:V,ingredients:e}:{type:Y})})).catch((function(e){console.log(e),t({type:Y})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(r.useEffect)((function(){e(nt())}),[s]);var i=function(){e({type:re}),n.goBack()},o="text text_type_main-large pt-4 ".concat(m.a.title);return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(g,{}),Object(h.jsxs)(l.d,{location:a||t,children:[Object(h.jsx)(l.b,{path:"/yap_burger/",exact:!0,children:Object(h.jsxs)("div",{className:m.a.content,children:[Object(h.jsx)("h1",{className:o,children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(h.jsxs)(u.a,{backend:d.a,children:[Object(h.jsx)(de,{}),Object(h.jsx)(Re,{})]})]})}),Object(h.jsx)(l.b,{path:"/login",component:rt,exact:!0}),Object(h.jsx)(l.b,{path:"/register",component:ct,exact:!0}),Object(h.jsx)(l.b,{path:"/forgot-password",component:ut,exact:!0}),Object(h.jsx)(l.b,{path:"/reset-password",component:dt}),Object(h.jsx)(l.b,{path:"/feed/:id",component:Dt}),Object(h.jsx)(l.b,{path:"/feed",children:Object(h.jsx)(Ut,{})}),Object(h.jsx)(Rt,{path:"/profile/orders/:id",children:Object(h.jsx)(Pt,{})}),Object(h.jsx)(Rt,{path:"/profile/orders",children:Object(h.jsx)(St,{})}),Object(h.jsx)(Rt,{path:"/profile",children:Object(h.jsx)(St,{})}),Object(h.jsx)(l.b,{path:"/ingredients/:id",component:ot}),Object(h.jsx)(l.b,{component:Ce})]}),a&&Object(h.jsx)(l.b,{path:"/ingredients/:id",children:Object(h.jsx)(Ee,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",close:i,children:Object(h.jsx)(it,{})})}),a&&Object(h.jsx)(Rt,{path:"/profile/orders/:id",children:Object(h.jsx)(Ee,{title:"",close:i,children:Object(h.jsx)(Ct,{})})}),a&&Object(h.jsx)(l.b,{path:"/feed/:id",children:Object(h.jsx)(Ee,{title:"",close:i,children:Object(h.jsx)(Ct,{})})})]})},At=n(27),Lt=n(102),Gt=n(74),Ft=n.n(Gt),Qt={ingredients:[],ingredientsRequest:!1,ingredientsError:!1,order:{},orderRequest:!1,orderError:!1,constructorIngredients:{buns:[],toppings:[]},ingredientDetails:{},ingredientsFailed:!1,orderFailed:!1},Bt={registerUserRequest:!1,registerUserRequestFailed:!1,registerUserSuccess:!1,loginUserSuccess:!1,user:{email:"",name:""},token:"",forgotPasswordSuccess:!1,forgotPasswordRequest:!1,forgotPasswordRequestFailed:!0,resetPasswordSuccess:!1,resetPasswordRequest:!1,resetPasswordRequestFailed:!0,isAuth:!1,loginRequest:!1,loginRequestFailed:!1,getUserRequest:!1,getUserRequestFailed:!1,isUserLoaded:!1},Wt={wsConnected:!1,orders:[],total:0,totalToday:0},Jt=Object(At.b)({reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(E.a)(Object(E.a)({},e),{},{ingredientsRequest:!0});case V:return Object(E.a)(Object(E.a)({},e),{},{ingredientsFailed:!1,ingredientsRequest:!1,ingredients:t.ingredients.data});case Y:return Object(E.a)(Object(E.a)(Object(E.a)({},e),Qt),{},{ingredientsError:!0});case ce:return Object(E.a)(Object(E.a)({},e),{},{orderRequest:!0});case ae:return Object(E.a)(Object(E.a)({},e),{},{orderFailed:!1,orderRequest:!1,order:t.order});case se:return Object(E.a)(Object(E.a)(Object(E.a)({},e),Qt),{},{orderError:!0});case ie:return Object(E.a)(Object(E.a)({},e),{},{order:{}});case K:return Object(E.a)(Object(E.a)({},e),{},{constructorIngredients:"bun"===t.card.type?{buns:[t.card],toppings:Object(lt.a)(e.constructorIngredients.toppings)}:{buns:Object(lt.a)(e.constructorIngredients.buns),toppings:[].concat(Object(lt.a)(e.constructorIngredients.toppings),[t.card])}});case $:return Object(E.a)(Object(E.a)({},e),{},{constructorIngredients:{buns:Object(lt.a)(e.constructorIngredients.buns),toppings:Object(lt.a)(e.constructorIngredients.toppings.filter((function(e,n){return e.guid!==t.guid})))}});case ee:return Object(E.a)(Object(E.a)({},e),{},{constructorIngredients:{buns:[],toppings:[]}});case ne:return Object(E.a)(Object(E.a)({},e),{},{ingredientDetails:t.card});case re:return Object(E.a)(Object(E.a)({},e),{},{ingredientDetails:{}});case te:var n=Ft()(e.constructorIngredients.toppings,{$splice:[[t.dragIndex,1]]}),r=Ft()(n,{$splice:[[t.hoverIndex,0,e.constructorIngredients.toppings[t.dragIndex]]]});return Object(E.a)(Object(E.a)({},e),{},{constructorIngredients:Object(E.a)(Object(E.a)({},e.constructorIngredients),{},{toppings:r})});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:return Object(E.a)(Object(E.a)({},e),{},{registerUserRequest:!0});case Pe:return Object(E.a)(Object(E.a)({},e),{},{registerUserSuccess:!0,registerUserRequest:!1,registerUserRequestFailed:!1});case qe:return Object(E.a)(Object(E.a)({},e),{},{registerUserRequest:!1,registerUserRequestFailed:!0,registerUserSuccess:!1});case Fe:return localStorage.setItem("refreshToken",t.refreshToken),Object(E.a)(Object(E.a)({},e),{},{isAuth:!0});case Qe:return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),Object(E.a)(Object(E.a)({},e),{},{isAuth:!1});case Ae:return Object(E.a)(Object(E.a)({},e),{},{loginRequest:!0,loginUserSuccess:!1,loginRequestFailed:!1});case Le:return Object(E.a)(Object(E.a)({},e),{},{loginRequest:!1,loginRequestFailed:!1,loginUserSuccess:!0});case $e:case et:return Object(E.a)(Object(E.a)({},e),{},{loginUserSuccess:!1});case Ge:return Object(E.a)(Object(E.a)({},e),{},{loginRequest:!1,loginRequestFailed:!0,loginUserSuccess:!1});case Be:return Object(E.a)(Object(E.a)({},e),t.user);case We:return Object(E.a)(Object(E.a)({},e),{},{user:{email:"",name:""}});case Ve:return Object(E.a)(Object(E.a)({},e),{},{getUserRequest:!0});case Ye:return Object(E.a)(Object(E.a)({},e),{},{getUserRequest:!1,getUserRequestFailed:!1,isUserLoaded:!0});case Ke:return Object(E.a)(Object(E.a)({},e),{},{getUserRequest:!1,getUserRequestFailed:!0});case Je:return Object(E.a)(Object(E.a)({},e),{},{forgotPasswordRequest:!0});case He:return Object(E.a)(Object(E.a)({},e),{},{forgotPasswordRequest:!1,forgotPasswordRequestFailed:!1,forgotPasswordSuccess:!0});case ze:return Object(E.a)(Object(E.a)({},e),{},{forgotPasswordRequest:!1,forgotPasswordRequestFailed:!0});case Me:return Object(E.a)(Object(E.a)({},e),{},{resetPasswordRequest:!0});case Xe:return Object(E.a)(Object(E.a)({},e),{},{resetPasswordRequest:!1,resetPasswordRequestFailed:!1,resetPasswordSuccess:!0});case Ze:return Object(E.a)(Object(E.a)({},e),{},{resetPasswordRequest:!1,resetPasswordRequestFailed:!0});default:return e}},wsReduser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt:return Object(E.a)(Object(E.a)({},e),{},{wsConnected:!0});case ft:return Object(E.a)(Object(E.a)({},e),{},{wsConnected:!1});case Ot:return Object(E.a)(Object(E.a)({},e),{},{orders:t.payload.orders,total:t.payload.total,totalToday:t.payload.totalToday});default:return e}}}),Ht={wsInit:bt,wsPrivatInit:mt,wsClose:ft,onOpen:"WS_CONNECTION_SUCCESS",onMessage:Ot},zt=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||At.c)(Object(At.a)(Lt.a,function(e,t){return function(n){var r=null;return function(c){return function(a){var s=n.dispatch,i=a.type,o=t.wsInit,u=t.wsPrivatInit,d=t.wsClose,l=t.onOpen,j=t.onMessage;if(i===o&&(r=new WebSocket("".concat(e,"/all"))),i===u){var p=localStorage.getItem("accessToken");p&&(r=new WebSocket("".concat(e,"?token=").concat(p.split(" ")[1])))}r&&(i===d&&r.close(1e3,"Closed by user"),r.onopen=function(e){s({type:l,payload:e})},r.onmessage=function(e){var t=JSON.parse(e.data);s({type:j,payload:t})},r.onclose=function(e){console.log("WS connection closed")}),c(a)}}}}("".concat("wss://norma.nomoreparties.space","/orders"),Ht))),Mt=Object(At.d)(Jt,zt);s.a.render(Object(h.jsx)(o.a,{store:Mt,children:Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(x.a,{children:Object(h.jsx)(qt,{})})})}),document.getElementById("root")),i()},23:function(e,t,n){e.exports={constructor:"burger-constructor_constructor__2Wifa",list:"burger-constructor_list__2lXaw",top:"burger-constructor_top__3B8eW",center:"burger-constructor_center__1jIL2",bottom:"burger-constructor_bottom__1l2yp",total:"burger-constructor_total__2z4fk",totalCont:"burger-constructor_totalCont__2bZwY",scrollCont:"burger-constructor_scrollCont__kOtU6",info:"burger-constructor_info__A3JBd",link:"burger-constructor_link__1ooeN"}},24:function(e,t,n){e.exports={feed:"feed_feed__3uAFb",feedCont:"feed_feedCont__3Q5Gn",cont:"feed_cont__3enyk",link:"feed_link__3iZay",right:"feed_right__1GQ3P",container:"feed_container__2dAnS",ordersCont:"feed_ordersCont__3EvXl",ordersWidth:"feed_ordersWidth__qSpzR",order:"feed_order__2DBCd",ordersList:"feed_ordersList__3A6g5",total:"feed_total__2rC_c"}},26:function(e,t,n){e.exports={header:"app-header_header__1iHLW",content:"app-header_content__KCd-V",nav:"app-header_nav__1_idE",logo:"app-header_logo__zVEfY",navItem:"app-header_navItem__2Tbe-",login:"app-header_login__3afH_"}},28:function(e,t,n){e.exports={id:"indredient-details_id__mILwF",idText:"indredient-details_idText__2fTcJ",image:"indredient-details_image__2qheu",light:"indredient-details_light__5OKHl",navy:"indredient-details_navy__2bOVP",details:"indredient-details_details__1JNpe",detailsCard:"indredient-details_detailsCard__2X1Z_"}},30:function(e,t,n){e.exports={id:"order-details_id__1POxV",idText:"order-details_idText__I2Tdo",image:"order-details_image__lnOoe",light:"order-details_light__3rvcO",navy:"order-details_navy__2_mPx"}},35:function(e,t,n){e.exports={tabs:"burger-ingredients_tabs__1yNyE",ingredients:"burger-ingredients_ingredients__2TY9H",title:"burger-ingredients_title__32v1n",scrollCont:"burger-ingredients_scrollCont__2XeTx",cards:"burger-ingredients_cards__xIjNZ"}},44:function(e,t,n){e.exports={card:"ingredient-card_card__1cRZ7",image:"ingredient-card_image__3LOg0",cost:"ingredient-card_cost__A5E-m",link:"ingredient-card_link__2SBZJ"}},51:function(e,t,n){e.exports={orderDetails:"modal_orderDetails__1RTQ_",closeIcon:"modal_closeIcon__1s4Qd",title:"modal_title__1efUU"}},52:function(e,t,n){e.exports={wrapper:"not-found_wrapper__zKTuj",container:"not-found_container__heFy6",content:"not-found_content__bTjDH"}},70:function(e,t,n){e.exports={App:"app_App__3t73x",title:"app_title__2Mz9y",content:"app_content__1uD0k","App-logo":"app_App-logo__1u9fY","App-logo-spin":"app_App-logo-spin__1cpH1","App-header":"app_App-header__1ofuY","App-link":"app_App-link__3q4JB"}},99:function(e,t,n){e.exports={listItem:"constructor-card_listItem__1dC_D"}}},[[193,1,2]]]);
//# sourceMappingURL=main.ff31ea09.chunk.js.map